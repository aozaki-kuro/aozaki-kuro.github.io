<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Hugoéƒ¨ç½²ä¸è¸©å‘è®° - Aozaki's Note</title><meta name=description content="Aozakiçš„ä¸ªäººåšå®¢ï¼Œå¶å°”å†™ç‚¹ä¸œè¥¿ã€‚"><meta property="og:title" content="Hugoéƒ¨ç½²ä¸è¸©å‘è®°"><meta property="og:description" content="æœ¬åšå®¢éƒ¨ç½²äºGithub Pagesä¸Šï¼Œæœ€åˆæ„å»ºæ—¶åº”ç”¨çš„Hexoã€‚åœ¨è¢«Node.jsçš„å·¨é‡ä¾èµ–å’Œæœ€ç»ˆé¡µé¢ç”Ÿæˆé€Ÿåº¦é¢å‰å†³å®šè¿ç§»è‡³Hugoã€‚Hug"><meta property="og:type" content="article"><meta property="og:url" content="https://aozaki-kuro.com/2020/08/hugo-deployment-debugging/"><meta property="og:image" content="https://aozaki-kuro.com/images/avatar.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-09T11:29:51+08:00"><meta property="article:modified_time" content="2020-08-09T11:29:51+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aozaki-kuro.com/images/avatar.jpg"><meta name=twitter:title content="Hugoéƒ¨ç½²ä¸è¸©å‘è®°"><meta name=twitter:description content="æœ¬åšå®¢éƒ¨ç½²äºGithub Pagesä¸Šï¼Œæœ€åˆæ„å»ºæ—¶åº”ç”¨çš„Hexoã€‚åœ¨è¢«Node.jsçš„å·¨é‡ä¾èµ–å’Œæœ€ç»ˆé¡µé¢ç”Ÿæˆé€Ÿåº¦é¢å‰å†³å®šè¿ç§»è‡³Hugoã€‚Hug"><meta name=application-name content="Aozaki's Note"><meta name=apple-mobile-web-app-title content="Aozaki's Note"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://aozaki-kuro.com/2020/08/hugo-deployment-debugging/><link rel=prev href=https://aozaki-kuro.com/2020/08/master-graduation/><link rel=next href=https://aozaki-kuro.com/2020/08/deploying-hugo-with-github-actions/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Hugoéƒ¨ç½²ä¸è¸©å‘è®°","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/aozaki-kuro.com\/2020\/08\/hugo-deployment-debugging\/"},"image":["https:\/\/aozaki-kuro.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"æŠ˜è…¾, ç½‘ç»œ","wordcount":2403,"url":"https:\/\/aozaki-kuro.com\/2020\/08\/hugo-deployment-debugging\/","datePublished":"2020-08-09T11:29:51+08:00","dateModified":"2020-08-09T11:29:51+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Aozaki","logo":"https:\/\/aozaki-kuro.com\/images\/avatar.jpg"},"author":{"@type":"Person","name":"Aozaki"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Aozaki's Note"><span class=header-title-pre><i class="fas fa-heartbeat fa-fw"></i></span>Aozaki</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ‰€æœ‰æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><a class=menu-item href=/categories/portfolio/>Portfolio </a><a class=menu-item href=/about/>å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span></span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Aozaki's Note"><span class=header-title-pre><i class="fas fa-heartbeat fa-fw"></i></span>Aozaki</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts/ title>æ‰€æœ‰æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a class=menu-item href=/categories/portfolio/ title>Portfolio</a><a class=menu-item href=/about/ title>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Hugoéƒ¨ç½²ä¸è¸©å‘è®°</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://aozaki-kuro.com title=Author target=_blank rel="noopener noreferrer author" class=author><i class="fas fa-user-circle fa-fw"></i>Aozaki</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-08-09>2020-08-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 2403 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#wsl2çš„éƒ¨ç½²>WSL2çš„éƒ¨ç½²</a><ul><li><a href=#windows-10å†…å¯ç”¨ç›¸å…³åŠŸèƒ½>Windows 10å†…å¯ç”¨ç›¸å…³åŠŸèƒ½</a></li><li><a href=#è½¬æ¢ä¸ºwsl2>è½¬æ¢ä¸ºWSL2</a></li></ul></li><li><a href=#hugo>Hugo</a><ul><li><a href=#wsl2å†…éƒ¨ç½²hugo>WSL2å†…éƒ¨ç½²Hugo</a></li><li><a href=#hugoç›¸å…³æ“ä½œ>Hugoç›¸å…³æ“ä½œ</a><ul><li><a href=#åˆ›å»ºåšå®¢ä¸æ·»åŠ æ–°æ–‡ç« >åˆ›å»ºåšå®¢ä¸æ·»åŠ æ–°æ–‡ç« </a></li><li><a href=#è¿æ¥è‡³ssh>è¿æ¥è‡³SSH</a></li><li><a href=#æ¨é€æ›´æ–°>æ¨é€æ›´æ–°</a></li></ul></li></ul></li><li><a href=#éƒ¨ç½²cloudflare-cdn>éƒ¨ç½²Cloudflare CDN</a><ul><li><a href=#ä¸ºä½•é€‰æ‹©cloudflare>ä¸ºä½•é€‰æ‹©Cloudflareï¼Ÿ</a></li></ul></li><li><a href=#è¸©å‘è®°>è¸©å‘è®°</a><ul><li><a href=#cssé”™è¯¯çš„æ’æŸ¥>CSSé”™è¯¯çš„æ’æŸ¥</a></li><li><a href=#å¤§å°å†™çš„è¯†åˆ«>å¤§å°å†™çš„è¯†åˆ«</a></li><li><a href=#éƒ¨ç½²æ“ä½œéº»çƒ¦>éƒ¨ç½²æ“ä½œéº»çƒ¦</a></li><li><a href=#cloudflare-cdnéƒ¨ç½²æ—¶çš„æ³¨æ„äº‹é¡¹>Cloudflare CDNéƒ¨ç½²æ—¶çš„æ³¨æ„äº‹é¡¹</a></li></ul></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ul></nav></div></div><div class=content id=content><p><img class=lazyload src=/svg/loading.min.svg data-src=0001.jpg data-srcset="/2020/08/hugo-deployment-debugging/0001.jpg, 0001.jpg 1.5x, /2020/08/hugo-deployment-debugging/0001.jpg 2x" data-sizes=auto alt=/2020/08/hugo-deployment-debugging/0001.jpg title=/2020/08/hugo-deployment-debugging/0001.jpg></p><p>æœ¬åšå®¢éƒ¨ç½²äºGithub Pagesä¸Šï¼Œæœ€åˆæ„å»ºæ—¶åº”ç”¨çš„Hexoã€‚åœ¨è¢«Node.jsçš„å·¨é‡ä¾èµ–å’Œæœ€ç»ˆé¡µé¢ç”Ÿæˆé€Ÿåº¦é¢å‰å†³å®šè¿ç§»è‡³Hugoã€‚Hugoéƒ¨ç½²çš„å‘å¾ˆå¤šï¼Œæ•…ä¿ç•™å®Œæ•´æ“ä½œä¸ç›¸å…³è¸©å‘è®°å½•ã€‚ğŸ˜«</p><hr><h2 id=wsl2çš„éƒ¨ç½²>WSL2çš„éƒ¨ç½²</h2><p>åœ¨åå¤æŠ˜è…¾å‡ è½®åé‚å†³å®š <del>æ»šå›Hexoæ–¹æ¡ˆ</del> åœ¨WSLä¸‹Hexoçš„ç”Ÿæˆé€Ÿåº¦é¢å‰æˆ‘åˆæ»šå›æ¥äº†ã€‚</p><p>ä»¥ä¸‹ä¸ºæ“ä½œç¬”è®°ï¼š</p><h3 id=windows-10å†…å¯ç”¨ç›¸å…³åŠŸèƒ½>Windows 10å†…å¯ç”¨ç›¸å…³åŠŸèƒ½</h3><p>é¦–å…ˆç¡®ä¿Windows 10ç‰ˆæœ¬åœ¨18917ä»¥ä¸Šï¼ŒStoreå†…å®‰è£…Ubuntuåå¼€å§‹WSL2çš„é…ç½®ã€‚<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>ä»¥ç®¡ç†å‘˜æƒé™è¿è¡ŒPowershellï¼Œå¹¶å¯ç”¨è™šæ‹Ÿæœºå¹³å°å¯é€‰ç»„ä»¶</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Powershell data-lang=Powershell><span class=nb>Enable-WindowsOptionalFeature</span> <span class=n>-Online</span> <span class=n>-FeatureName</span> <span class=n>VirtualMachinePlatform</span>
</code></pre></td></tr></table></div></div><p>å¯ç”¨Linuxå­ç³»ç»ŸåŠŸèƒ½</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Powershell data-lang=Powershell><span class=nb>Enable-WindowsOptionalFeature</span> <span class=n>-Online</span> <span class=n>-FeatureName</span> <span class=n>Microsoft-Windows-Subsystem-Linux</span>
</code></pre></td></tr></table></div></div><p><strong>é‡å¯å</strong>æ‰“å¼€å®‰è£…çš„Ubuntuå­ç³»ç»Ÿï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œå®ŒæˆWSL1çš„å®‰è£…ï¼›æ­¤æ—¶åœ¨Powershellå†…è¾“å…¥<code>wsl -l</code>å¯æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬å·ï¼ˆæˆ‘æ‰€å®‰è£…çš„æ˜¯Ubuntu 18.04 LTSï¼Œåˆ™æ˜¾ç¤º<code>Ubuntu-18.04</code>ï¼‰ã€‚</p><h3 id=è½¬æ¢ä¸ºwsl2>è½¬æ¢ä¸ºWSL2</h3><p>é¦–å…ˆè‡³Microsoftä¸‹è½½<a href=https://docs.microsoft.com/zh-cn/windows/wsl/wsl2-kernel target=_blank rel="noopener noreferrer">Linux Kernel</a>ï¼Œå®‰è£…åæ–¹å¯è¿›è¡Œè½¬æ¢ã€‚</p><p>æ ¹æ®<code>wsl -l</code>è·å¾—çš„ç‰ˆæœ¬å·ï¼Œå°†å…¶è½¬æ¢ä¸ºWSL2ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Powershell data-lang=Powershell><span class=n>wsl</span> <span class=p>-</span><span class=n>-set-version</span> <span class=n>Ubuntu</span><span class=p>-</span><span class=n>18</span><span class=p>.</span><span class=n>04</span> <span class=n>2</span>
</code></pre></td></tr></table></div></div><p>ä¹‹åå¯ä»¥è¾“å…¥<code>wsl --set-default-version 2</code>ï¼Œä½¿ä¹‹åå®‰è£…çš„Linuxå­ç³»ç»Ÿéƒ½å®‰è£…åˆ°WSL2ä¸­ã€‚</p><p>è‡³æ­¤WSL2çš„éƒ¨ç½²å®Œæˆã€‚</p><hr><h2 id=hugo>Hugo</h2><h3 id=wsl2å†…éƒ¨ç½²hugo>WSL2å†…éƒ¨ç½²Hugo</h3><p>å¯¹äºè€æ‰‹åº”è¯¥é—®é¢˜ä¸å¤§ï¼Œæˆ‘è¿˜æ˜¯è®°å½•ä¸€ä¸‹æ–°æ‰‹çš„æ“ä½œé˜²æ­¢è‡ªå·±å¿˜è®°â€¦â€¦</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh><span class=nb>cd</span> /tmp
wget https://github.com/gohugoio/hugo/releases/download/v0.74.3/hugo_extended_0.74.3_Linux-64bit.tar.gz
tar xvf hugo_extended_0.74.3_Linux-64bit.tar.gz
sudo mv hugo /usr/local/bin
hugo
</code></pre></td></tr></table></div></div><p>æ­¤å¤„è¦æ³¨æ„ï¼Œè™½ç„¶WSL2æ˜¯64ä½çš„ï¼Œä½†å¥½åƒåªèƒ½è¿è¡Œ32ä½çš„ç¨‹åºï¼ˆæœªç¡®è¯ï¼‰ã€‚</p><h3 id=hugoç›¸å…³æ“ä½œ>Hugoç›¸å…³æ“ä½œ</h3><h4 id=åˆ›å»ºåšå®¢ä¸æ·»åŠ æ–°æ–‡ç« >åˆ›å»ºåšå®¢ä¸æ·»åŠ æ–°æ–‡ç« </h4><p>å¦‚ä¸‹å‘½ä»¤åˆ›å»ºåšå®¢</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>hugo new site blog <span class=c1>#è¿™é‡Œå¡«å…¥è‡ªå·±çš„åšå®¢æ ¹ç›®å½•åç§°</span>
<span class=nb>cd</span> blog
</code></pre></td></tr></table></div></div><p>æ–°å¢ä¸»é¢˜ï¼ˆè¿™é‡Œåº”ç”¨çš„æ˜¯MemEï¼‰<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>git init
git submodule add --depth <span class=m>1</span> https://github.com/reuixiy/hugo-theme-meme.git themes/meme
rm config.toml <span class=o>&amp;&amp;</span> cp themes/meme/config-examples/zh-cn/config.toml config.toml <span class=c1>#å°†config.tomlæ›¿æ¢ä¸ºä¸»é¢˜ç”¨</span>
</code></pre></td></tr></table></div></div><p>æ–°å»ºæ–‡ç« ä¸å…³äºé¡µé¢</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>hugo new <span class=s2>&#34;tech/hello-world.md&#34;</span>
hugo new <span class=s2>&#34;about/_index.md&#34;</span>
</code></pre></td></tr></table></div></div><p>è¿è¡Œæœ¬åœ°æ¸²æŸ“ï¼Œè¿›è¡Œé¢„è§ˆ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>hugo server -D
</code></pre></td></tr></table></div></div><h4 id=è¿æ¥è‡³ssh>è¿æ¥è‡³SSH</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>ssh-keygen -tecdsa <span class=c1>#åˆ›å»ºsshkeyï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªè°œä¹‹ASCIIå›¾ç‰‡</span>
cat ~/.ssh/id_ecdsa.pub <span class=c1>#æŸ¥çœ‹å…¬é’¥ï¼Œå¤åˆ¶åæ·»åŠ è‡³Github</span>
</code></pre></td></tr></table></div></div><h4 id=æ¨é€æ›´æ–°>æ¨é€æ›´æ–°</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>git remote set-url origin git@github.com:xxxxxxx <span class=c1>#æ­¤å¤„ä¿®æ”¹ä¸ºè‡ªå·±é¡¹ç›®ä¸»é¡µçš„sshåœ°å€</span>
</code></pre></td></tr></table></div></div><p>åœ¨æ·»åŠ è¿‡originåå¦‚ä¸‹æ“ä½œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-sh data-lang=sh>hugo --gc --minify <span class=c1>#è¿™é‡Œåœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</span>
<span class=nb>cd</span> public
git add .
git status
git commit -m <span class=s2>&#34;Update&#34;</span> <span class=c1>#æ ¹æ®éœ€è¦å¡«å†™æ›´æ–°åç§°</span>
git push
</code></pre></td></tr></table></div></div><p>å¦‚æœåšå®¢å‡ºç°æ¸²æŸ“é—®é¢˜ï¼Œå¯ä»¥æ”¹ç”¨<code>hugo --gc -e production --cleanDestinationDir</code>è¿›è¡Œé‡æ„ã€‚</p><h2 id=éƒ¨ç½²cloudflare-cdn>éƒ¨ç½²Cloudflare CDN</h2><p>ç”±äºå›½å†…CDNå‡è¦æ±‚å¤‡æ¡ˆï¼Œç²—ç•¥çœ‹äº†çœ‹å¤‡æ¡ˆçš„å†—é•¿è¿‡ç¨‹å¹¶æƒ³åˆ°è¦åœ¨åšå®¢åº•ä¸‹æŒ‚ä¸€ä¸ª<del>åˆé•¿åˆä¸‘çš„</del>å¤‡æ¡ˆå·ï¼ŒåŠ ä¹‹DNSpodçš„è§£ææœåŠ¡çªç„¶å‡ºé”™ï¼ˆDNSpodä½ è‡ªå·±è¯´ä½ æ˜¯ç¬¬å‡ æ¬¡äº†ï¼‰ï¼Œä¾¿ä¸‹å®šå†³å¿ƒè¿ç§»è‡³Cloudflareçš„<del>é™é€Ÿ</del>CDNä¸Šã€‚</p><h3 id=ä¸ºä½•é€‰æ‹©cloudflare>ä¸ºä½•é€‰æ‹©Cloudflareï¼Ÿ</h3><p>åŸå› å¾ˆç®€å•ï¼ŒCloudflareçš„CDNéå¸ƒå…¨ä¸–ç•Œï¼Œå¹¶ä¸”æä¾›å·ç§°å…¨çƒæœ€å¿«çš„DNS <code>1.1.1.1</code>ã€å…è´¹çš„SSLè¯ä¹¦ï¼Œä»¥åŠå·ç§°å‡ ä¹æ‰“ä¸æ­»çš„DDoSä¿æŠ¤ï¼Œè€Œä¸”æœ€é‡è¦çš„æ˜¯ä¸éœ€è¦å¤‡æ¡ˆğŸ¤£ è¿‘æœŸè¿˜å¬è¯´Cloudflareåœ¨å†…åœ°ä¸ç™¾åº¦æœ‰åˆä½œï¼Œéƒ¨ç½²äº†å¤§é‡èŠ‚ç‚¹ï¼Œæƒ³å¿…è®¿é—®é€Ÿåº¦åº”è¯¥æ˜¯å·®ä¸åˆ°å“ªé‡Œå»â€¦â€¦å§ã€‚</p><p>é…ç½®è¿‡ç¨‹ä¸è¯¦è¿°äº†ï¼Œæˆ‘ä¸»è¦å‚è€ƒçš„æ˜¯<a href=https://mogeko.me/2019/056/ target=_blank rel="noopener noreferrer">Mogekoçš„Cloudflare CDNæ·»åŠ æ•™ç¨‹</a>ã€‚</p><p>éƒ¨ç½²åçš„è¸©å‘è®°å½•æ›´æ–°åœ¨åé¢ã€‚</p><hr><h2 id=è¸©å‘è®°>è¸©å‘è®°</h2><h3 id=cssé”™è¯¯çš„æ’æŸ¥>CSSé”™è¯¯çš„æ’æŸ¥</h3><p>æœ€å¼€å§‹å¬è¯´Hugoè½»é‡åŒ–ä¸”ä¸éœ€è¦é‚£ä¹ˆå¤šä¾èµ–ï¼Œäºæ˜¯ä¾¿æƒ³ç€å¾€Hugoè¿ç§»ã€‚å½“ç„¶æŠ˜è…¾ä¸Šæ‰‹åæ‰å‘ç°è¸©å‘çš„ç‚¹å¤ªå¤šäº†ã€‚</p><p>é¦–å…ˆéƒ¨ç½²åœ¨Windows 10ä¸‹ï¼Œæœªä½¿ç”¨WSLæ—¶ï¼Œé‡åˆ°äº†æœ¬åœ°<code>hugo server -D</code>é¢„è§ˆæ­£å¸¸ï¼Œ<code>git push</code>åé¡µé¢å‡ºé”™çš„é—®é¢˜ã€‚æ’æŸ¥å‡ æ¬¡åå‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>Failed to find a valid digest in the &#39;integrity&#39; attribute for resource &#39;xxxxxxx.css&#39; with computed SHA-256 integrity. The resource has been blocked.
</code></pre></td></tr></table></div></div><p>æŸ¥äº†å¤šæ–¹èµ„æ–™åå‘ç°æœ‰æ€€ç–‘CRLF/LFçš„é—®é¢˜ï¼Œä¹Ÿæœ‰è¯´å¯ä»¥æŠŠ<code>integrity</code>å±æ€§åˆ é™¤å³æ­£å¸¸çš„ã€‚ä½†æ˜¯æ ¹æ®ç›¸å…³æŒ‡å¼•æ‰§è¡Œåå‡æ²¡æœ‰æ•ˆæœã€‚</p><p>æ­¤å¤–ï¼Œè€é©¬åœ¨Manjaroä¸‹ç”Ÿæˆçš„ç½‘é¡µ<code>git push</code>åæ˜¯æ­£å¸¸çš„ï¼Œå¯ä»¥æ­£å¸¸åŠ è½½CSSï¼ŒWindowsä¸‹æ— è®ºé€šè¿‡<code>Powershell</code>è¿˜æ˜¯<code>Git bash</code>çª—å£æ‰§è¡Œéƒ½ä¸æ­£å¸¸ã€‚é—®é¢˜æ’æŸ¥å›°éš¾é‡é‡ï¼Œæš‚æ—¶æ–­äº†è¿ç§»è‡³Hugoçš„å¿µæƒ³ã€‚</p><p>ä¸€ç›´åˆ°æ˜¨å¤©ï¼Œå°è¯•æ€§åœ°éƒ¨ç½²äº†<code>WSL2</code>ï¼Œæœ€ç»ˆç¼–è¯‘æ‰é€šè¿‡ï¼Œè®©CSSèƒ½å¤Ÿæ­£å¸¸åŠ è½½ã€‚</p><h3 id=å¤§å°å†™çš„è¯†åˆ«>å¤§å°å†™çš„è¯†åˆ«</h3><p>æ˜¨å¤©åœ¨æˆåŠŸé€šè¿‡Hugoéƒ¨ç½²åå‘ç°äº†é—®é¢˜ï¼šé¦–é¡µå¯ä»¥åŠ è½½æ–‡ç« ï¼Œä½†ç‚¹è¿›Read Moreå404ã€‚</p><p>è¿›è¡Œå¤šæ¬¡æ’æŸ¥åå‘ç°æ˜¯æ–‡ç« æ‰€åœ¨æ–‡ä»¶å¤¹çš„å¤§å°å†™é—®é¢˜ï¼Œè¿™ä¸€é—®é¢˜åœ¨Hexoä¸‹æœªå‘ç”Ÿï¼Œå°†æ‰€æœ‰æ–‡ä»¶æ”¹ä¸ºå°å†™ååŠ è½½æ­£å¸¸ã€‚</p><h3 id=éƒ¨ç½²æ“ä½œéº»çƒ¦>éƒ¨ç½²æ“ä½œéº»çƒ¦</h3><p>é™¤äº†éš¾ä»¥æ’æŸ¥çš„CSSé—®é¢˜å’Œå¤§å°å†™è¯†åˆ«çš„å‘ï¼Œç”±äºæˆ‘çš„codingåŸºç¡€è–„å¼±ï¼ŒHugoéƒ¨ç½²æ—¶çš„å‘½ä»¤è¡Œæ•°é‡ä¹Ÿè®©æˆ‘å¤´ç–¼ã€‚ä¸ä»…éš¾è®°ä¸”æ¶‰åŠæ ¹ç›®å½•åŠ<code>public/</code>ä¸¤ä¸ªç›®å½•å±‚çº§ã€‚è€ŒHexoåˆ™åªéœ€è¦ä¼˜é›…åœ°è¾“å…¥<code>hexo g && hexo d</code>å³å¯å®Œæˆåœ¨æœåŠ¡ç«¯çš„éƒ¨ç½²ã€‚</p><h3 id=cloudflare-cdnéƒ¨ç½²æ—¶çš„æ³¨æ„äº‹é¡¹>Cloudflare CDNéƒ¨ç½²æ—¶çš„æ³¨æ„äº‹é¡¹</h3><p>ç”±å‰é¢çš„è¸©å‘ç»éªŒå¯çŸ¥ï¼ŒHugoç”Ÿæˆçš„CSSéœ€è¦æ£€æŸ¥å®Œæ•´æ€§ï¼Œæ‰€ä»¥å°½ç®¡Cloudflareæä¾›äº†Auto MinifyåŠŸèƒ½ï¼Œä½†æ˜¯è¯·åƒä¸‡ä¸è¦å»å‹¾é€‰HTMLä»¥å¤–çš„é€‰é¡¹ã€‚Auto Minifyä¼šå¯¼è‡´å‡ºç°å‰è¿°çš„CSSå®Œæ•´æ€§é”™è¯¯ï¼Œè¿›è€Œä½¿å¾—ç½‘é¡µæ— æ³•åŠ è½½CSSæ ·å¼ã€‚</p><hr><h2 id=æ€»ç»“>æ€»ç»“</h2><p>Hugoå°½ç®¡åªéœ€è¦ä¸‹è½½ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶å³å¯å¼€å§‹éƒ¨ç½²å’Œä½¿ç”¨ï¼Œä½†æ˜¯åœ¨è¿™è¿‡ç¨‹ä¸­ç¢°åˆ°çš„å‘å’Œè§£å†³é—®é¢˜çš„éš¾åº¦è¿œè¶…Hexoã€‚å¦‚æœæˆ‘æƒ³ä¸èµ·æ¥ç”¨WSLï¼Œé‚£å¯èƒ½å°±å®Œå…¨å’ŒHugoæ— ç¼˜ã€‚</p><p>è¿™æ–¹é¢ä¸å¾—ä¸è¯´Hexoçš„åŠŸèƒ½æ€§å¼ºå¾—å¤šï¼Œç¼–è¯‘æ—¶è‡ªåŠ¨è½¬æ¢CRLF/LFï¼Œå¹¶ä¸”ä¸å—åˆ°å¤§å°å†™çš„å½±å“ã€‚é™¤äº†åœ¨WSLä¸‹ç”Ÿæˆç½‘é¡µæ—¶çœŸçš„å¾ˆæ…¢â€¦â€¦</p><p>çœ‹åœ¨Hugoæœ‰MemEè¿™ä¸ªé¢œå€¼é«˜ã€ç®€æ´è¿˜ä¸å®¹æ˜“æ’è½¦çš„ä¸»é¢˜é¢ä¸Šé¥¶äº†ä½ äº†ã€‚</p><p>å¦å¤–é¢˜å›¾æ¥è‡ªèµ¤äº•ã¯ã‚ã¨ï¼Œå›é¡¾æ•´ä¸ªæ’æŸ¥è¿‡ç¨‹ç¡®å®éå¸¸ç”Ÿè‰ <del>ä»¥åŠå“­ç¬‘ä¸å¾—</del> ã€‚</p><hr><p>å½“ç„¶å°½ç®¡æŠ˜è…¾äº†é‚£ä¹ˆå¤šï¼Œå»ºç«‹åšå®¢çš„åˆè¡·è¿˜æ˜¯å†™ç‚¹ä¸œè¥¿ä¸‹æ¥ä½ è¯´æ˜¯ä¸æ˜¯ã€‚</p><p>å¥½å¥½å†™ç‚¹ä¸œè¥¿ä¸‹æ¥å§â€¦â€¦â€¦â€¦â€¦â€¦ğŸ¤¯</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>å…·ä½“è¯·å‚ç…§ã€Šé€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿå®‰è£…æŒ‡å—ã€‹ï¼šhttps://docs.microsoft.com/zh-cn/windows/wsl/install-win10 <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>æ›´å¤šæ“ä½œåŠè¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹MemEé¡¹ç›®ä¸»é¡µï¼šhttps://github.com/reuixiy/hugo-theme-meme/blob/master/README.zh-cn.md <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2020-08-09</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/2020/08/hugo-deployment-debugging/index.md target=_blank rel="noopener noreferrer">é˜…è¯»åŸå§‹æ–‡æ¡£</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://aozaki-kuro.com/2020/08/hugo-deployment-debugging/ data-title=Hugoéƒ¨ç½²ä¸è¸©å‘è®° data-via=Aozaki__ data-hashtags=æŠ˜è…¾,ç½‘ç»œ><i class="fab fa-twitter fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E6%8A%98%E8%85%BE/>æŠ˜è…¾</a>,&nbsp;<a href=/tags/%E7%BD%91%E7%BB%9C/>ç½‘ç»œ</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/2020/08/master-graduation/ class=prev rel=prev title=æ¯•ä¸šäº†><i class="fas fa-angle-left fa-fw"></i>æ¯•ä¸šäº†</a>
<a href=/2020/08/deploying-hugo-with-github-actions/ class=next rel=next title="åˆ©ç”¨Github Actionè‡ªåŠ¨åŒ–éƒ¨ç½²Hugo">åˆ©ç”¨Github Actionè‡ªåŠ¨åŒ–éƒ¨ç½²Hugo<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=telegram-comments class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://comments.app/>Telegram Comments</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.81.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/sunt-programator/CodeIT target=_blank rel="noopener noreferrer" title="CodeIT 0.2.10"><i class="fas fa-laptop-code fa-fw"></i>CodeIT</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://aozaki-kuro.com target=_blank rel="noopener noreferrer">Aozaki</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank>CC BY-SA 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://comments.app/js/widget.js?2 defer data-comments-app-website=cm4NT4nO data-limit=5 data-colorful=1></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:10},comment:{},search:{algoliaAppID:"PASDMWALPK",algoliaIndex:"index.zh-cn",algoliaSearchKey:"b42948e51daaa93df92381c8e2ac0f93",highlightTag:"em",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>